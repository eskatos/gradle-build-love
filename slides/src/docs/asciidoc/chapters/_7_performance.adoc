[background-color="#02303a"]
== Performance
image::gradle/bg-2.png[background, size=cover]

&#x1F680;


=== Performance
image::gradle/bg-2.png[background, size=cover]

image::xkcd-compiling.png[width=55%]

[.small]
https://xkcd.com/303


=== Performance
image::gradle/bg-2.png[background, size=cover]

image::monkeyuser-focus.png[width=30%]

[.small]
https://www.monkeyuser.com/2018/focus


=== Un build rapide c'est
image::gradle/bg-2.png[background, size=cover]

* moins de temps d'attente
* moins de changements de contexte
* plus de fluidité dans notre travail
* plus de productivité


=== Mesurer c'est douter
image::gradle/bg-2.png[background, size=cover]

[cols="<1,>1",frame=none,grid=none]
|===
a|* Mesurer
* Changer
* Mesurer
* Comparer

a|image::xkcd-optimizing.png[width=65%]

[.small]
https://xkcd.com/1691
|===


=== Build Scans
image::gradle/bg-2.png[background, size=cover]

> Un enregistrement permanent de ce qui se passe pendant un build.

TBD


=== `gradle-profiler`
image::gradle/bg-2.png[background, size=cover]

https://github.com/gradle/gradle-profiler

* benchmarking
* tracing & profiling
* TBD ...
* TODO link to example results, traces, flame graphs etc...


=== Construction incrémentale
image::gradle/bg-2.png[background, size=cover]

Rien ne sert de refaire une tâche déjà faite!

* up-to-date! inputs/outputs
** `UP_TO_DATE` à la deuxième exécution


=== Cache de construction
image::gradle/bg-2.png[background, size=cover]

* L'activer : `--build-cache`, `org.gradle.caching=true`
* Vérifier : `FROM_CACHE` depuis un dossier différent
* Resources : https://docs.gradle.org/current/userguide/build_cache.html, especially  https://docs.gradle.org/current/userguide/build_cache_debugging.html and https://docs.gradle.org/current/userguide/common_caching_problems.html


=== Tâches incrémentales
image::gradle/bg-2.png[background, size=cover]

* Tâches incrémentales
** Gradle API https://docs.gradle.org/current/userguide/custom_tasks.html#incremental_tasks
** Support par plugin
** A considérer pour des tâches qui traitent plusieurs fichiers
** `gradle -i` pour comprendre ce qu'il se passe
* Java incremental annotation processing
** plugin/toolchain support


=== Construction parallèle
image::gradle/bg-2.png[background, size=cover]

* work : parallel safe vs. parallel unsafe
* max workers
* Exécution parallèle de tâches de projets différents
** `--parallel`
** `org.gradle.parallel=true`
** unsafe?
* Test forking


=== Résolution de dépendances
image::gradle/bg-2.png[background, size=cover]

* dynamic versions
* repo presence/order/filtering
* `mavenLocal()`


=== Gestion de la mémoire
image::gradle/bg-2.png[background, size=cover]

* Xmx anyone?
* TBD


=== Nouvelles fonctionnalités
image::gradle/bg-2.png[background, size=cover]

* Configuration Cache
* Isolated Projects
* TBD


=== Configuration Cache
image::gradle/bg-2.png[background, size=cover]

* principes, contraintes, benefices
* etat d'avancement
* demo of workflow for fixing problems
* TBD


=== Isolated Projects
image::gradle/bg-2.png[background, size=cover]

* principes, contraintes, benefices
* etat d'avancement
* demo of workflow for fixing problems
* TBD


=== Mesurer c'est douter
image::gradle/bg-2.png[background, size=cover]

[cols="<1,>1",frame=none,grid=none]
|===
a|* Mesurer
* Changer
* Mesurer
* Comparer

a|image::xkcd-optimizing.png[width=65%]

[.small]
https://xkcd.com/1691
|===
